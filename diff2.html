<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Line Chart with Dynamic Annotations</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation"></script>
    <style>
        body {
            background-color: #ebf1f5;
            font-family: Arial, sans-serif;
        }
        h2 {
            font-size: 42px;
            color: grey;
            text-align: center;
            margin-right: 20px;
        }
        canvas {
            display: block;
            margin: 0 auto;
        }
    </style>
</head>
<body>
    <h2>Performace of All HIV Products</h2>
    <canvas id="myChart" width="1400" height="600"></canvas>

    <script>
        // svg.append("rect")
        //     .attr("class", "title-line")
        //     .attr("x", -50) 
        //     .attr("y", 15) 
        //     .attr("width", 800)
        //     .attr("height", 2) 
        //     .style("fill", "#d77777");

        // svg.append("text")
        //     .attr("class", "chart-title")
        //     .attr("x", 320)
        //     .attr("y", -20)
        //     .attr("text-anchor", "middle")
        //     .style("font-size", "34px")
        //     .style("font-weight", "bold")
        //     .style("fill","#d77777")
        //     .text("Top Pharmaceutical Companies by Revenue");

        const data = [
            { month: "2018-01", President: "Biktarvy", dataValue: 0 , comment: null },
            { month: "2018-01", President: "Dovato", dataValue: null , comment: null },
            { month: "2018-01", President: "CAB/RPV", dataValue: null , comment: null },
            { month: "2018-01", President: "Descovy", dataValue: null , comment: null },

            { month: "2018-02", President: "Biktarvy", dataValue: 12 , comment: null },
            { month: "2018-02", President: "Dovato", dataValue: null , comment: null },
            { month: "2018-02", President: "CAB/RPV", dataValue: null , comment: null },
            { month: "2018-02", President: "Descovy", dataValue: null , comment: null },

            { month: "2018-03", President: "Biktarvy", dataValue: 6 , comment: null },
            { month: "2018-03", President: "Dovato", dataValue: null , comment: null },
            { month: "2018-03", President: "CAB/RPV", dataValue: null , comment: null },
            { month: "2018-03", President: "Descovy", dataValue: null , comment: null },

            { month: "2018-04", President: "Biktarvy", dataValue: 7 , comment: null },
            { month: "2018-04", President: "Dovato", dataValue: null , comment: null },
            { month: "2018-04", President: "CAB/RPV", dataValue: null , comment: null },
            { month: "2018-04", President: "Descovy", dataValue: null , comment: null },

            { month: "2018-05", President: "Biktarvy", dataValue: 11 , comment: null },
            { month: "2018-05", President: "Dovato", dataValue: null , comment: null },
            { month: "2018-05", President: "CAB/RPV", dataValue: null , comment: null },
            { month: "2018-05", President: "Descovy", dataValue: null , comment: null },

            { month: "2018-06", President: "Biktarvy", dataValue: 10 , comment: 'Best Performer' },
            { month: "2018-06", President: "Dovato", dataValue: null , comment:  null},
            { month: "2018-06", President: "CAB/RPV", dataValue: null , comment: null },
            { month: "2018-06", President: "Descovy", dataValue: null , comment: null },

            { month: "2018-07", President: "Biktarvy", dataValue: 17 , comment: null },
            { month: "2018-07", President: "Dovato", dataValue: null , comment: null },
            { month: "2018-07", President: "CAB/RPV", dataValue: null , comment: null },
            { month: "2018-07", President: "Descovy", dataValue: null , comment: null },

            { month: "2018-08", President: "Biktarvy", dataValue: 19 , comment: null },
            { month: "2018-08", President: "Dovato", dataValue: null , comment: null },
            { month: "2018-08", President: "CAB/RPV", dataValue: null , comment: null },
            { month: "2018-08", President: "Descovy", dataValue: null , comment: null },

            { month: "2018-09", President: "Biktarvy", dataValue: 30 , comment: null },
            { month: "2018-09", President: "Dovato", dataValue: null , comment: null },
            { month: "2018-09", President: "CAB/RPV", dataValue: null , comment: null },
            { month: "2018-09", President: "Descovy", dataValue: null , comment: null },

            { month: "2018-10", President: "Biktarvy", dataValue: 36 ,  comment: null },
            { month: "2018-10", President: "Dovato", dataValue: null ,  comment: null },
            { month: "2018-10", President: "CAB/RPV", dataValue: null ,  comment: null },
            { month: "2018-10", President: "Descovy", dataValue: null ,  comment: null },

            { month: "2018-11", President: "Biktarvy", dataValue: 35 ,  comment: null },
            { month: "2018-11", President: "Dovato", dataValue: null ,  comment: null },
            { month: "2018-11", President: "CAB/RPV", dataValue: null ,  comment: null },
            { month: "2018-11", President: "Descovy", dataValue: null ,  comment: null },

            { month: "2018-12", President: "Biktarvy", dataValue: 42 ,  comment: null },
            { month: "2018-12", President: "Dovato", dataValue: null ,  comment: null },
            { month: "2018-12", President: "CAB/RPV", dataValue: null ,  comment: null },
            { month: "2018-12", President: "Descovy", dataValue: null ,  comment: null },


            { month: "2019-01", President: "Biktarvy", dataValue: 38 , comment: null },
            { month: "2019-01", President: "Dovato", dataValue: null , comment: null },
            { month: "2019-01", President: "CAB/RPV", dataValue: null , comment: null },
            { month: "2019-01", President: "Descovy", dataValue: null , comment: null },

            { month: "2019-02", President: "Biktarvy", dataValue: 37 , comment: null },
            { month: "2019-02", President: "Dovato", dataValue: null , comment: null },
            { month: "2019-02", President: "CAB/RPV", dataValue: null , comment: null },
            { month: "2019-02", President: "Descovy", dataValue: null , comment: null },

            { month: "2019-03", President: "Biktarvy", dataValue: 40 , comment: null },
            { month: "2019-03", President: "Dovato", dataValue: null , comment: null },
            { month: "2019-03", President: "CAB/RPV", dataValue: null , comment: null },
            { month: "2019-03", President: "Descovy", dataValue: null , comment: null },

            { month: "2019-04", President: "Biktarvy", dataValue: 42 , comment: null },
            { month: "2019-04", President: "Dovato", dataValue: null , comment: null },
            { month: "2019-04", President: "CAB/RPV", dataValue: null , comment: null },
            { month: "2019-04", President: "Descovy", dataValue: null , comment: null },

            { month: "2019-05", President: "Biktarvy", dataValue: 45 , comment: null },
            { month: "2019-05", President: "Dovato", dataValue: null , comment: null },
            { month: "2019-05", President: "CAB/RPV", dataValue: null , comment: null },
            { month: "2019-05", President: "Descovy", dataValue: null , comment: null },

            { month: "2019-06", President: "Biktarvy", dataValue: 46 , comment: null },
            { month: "2019-06", President: "Dovato", dataValue: null , comment: null },
            { month: "2019-06", President: "CAB/RPV", dataValue: null , comment: null },
            { month: "2019-06", President: "Descovy", dataValue: null , comment: null },

            { month: "2019-07", President: "Biktarvy", dataValue: 47 , comment: null },
            { month: "2019-07", President: "Dovato", dataValue: null , comment: null },
            { month: "2019-07", President: "CAB/RPV", dataValue: null , comment: null },
            { month: "2019-07", President: "Descovy", dataValue: null , comment: null },

            { month: "2019-08", President: "Biktarvy", dataValue: 40 , comment: null },
            { month: "2019-08", President: "Dovato", dataValue: null , comment: null },
            { month: "2019-08", President: "CAB/RPV", dataValue: null , comment: null },
            { month: "2019-08", President: "Descovy", dataValue: null , comment: null },

            { month: "2019-09", President: "Biktarvy", dataValue: 35 , comment: null },
            { month: "2019-09", President: "Dovato", dataValue: null , comment: null },
            { month: "2019-09", President: "CAB/RPV", dataValue: null , comment: null },
            { month: "2019-09", President: "Descovy", dataValue: null , comment: null },

            { month: "2019-10", President: "Biktarvy", dataValue: 36 ,  comment: null },
            { month: "2019-10", President: "Dovato", dataValue: null ,  comment: null },
            { month: "2019-10", President: "CAB/RPV", dataValue: null ,  comment: null },
            { month: "2019-10", President: "Descovy", dataValue: null ,  comment: null },

            { month: "2019-11", President: "Biktarvy", dataValue: 39 ,  comment: null },
            { month: "2019-11", President: "Dovato", dataValue: null ,  comment: null },
            { month: "2019-11", President: "CAB/RPV", dataValue: null ,  comment: null },
            { month: "2019-11", President: "Descovy", dataValue: null ,  comment: null },

            { month: "2019-12", President: "Biktarvy", dataValue: 42 ,  comment: null },
            { month: "2019-12", President: "Dovato", dataValue: null ,  comment: null },
            { month: "2019-12", President: "CAB/RPV", dataValue: null ,  comment: null },
            { month: "2019-12", President: "Descovy", dataValue: null ,  comment: null },

            { month: "2020-01", President: "Biktarvy", dataValue: null , comment: null },
            { month: "2020-01", President: "Dovato", dataValue: 0 , comment: null },
            { month: "2020-01", President: "CAB/RPV", dataValue: null , comment: null },
            { month: "2020-01", President: "Descovy", dataValue: null , comment: null },

            { month: "2020-02", President: "Biktarvy", dataValue: null , comment: null },
            { month: "2020-02", President: "Dovato", dataValue: -4 , comment: null },
            { month: "2020-02", President: "CAB/RPV", dataValue: null , comment: null },
            { month: "2020-02", President: "Descovy", dataValue: null , comment: null },

            { month: "2020-03", President: "Biktarvy", dataValue: null , comment: null },
            { month: "2020-03", President: "Dovato", dataValue: -10 , comment: null },
            { month: "2020-03", President: "CAB/RPV", dataValue: null , comment: null },
            { month: "2020-03", President: "Descovy", dataValue: null , comment: null },

            { month: "2020-04", President: "Biktarvy", dataValue: null , comment: null },
            { month: "2020-04", President: "Dovato", dataValue: 5 , comment: null },
            { month: "2020-04", President: "CAB/RPV", dataValue: null , comment: null },
            { month: "2020-04", President: "Descovy", dataValue: null , comment: null },

            { month: "2020-05", President: "Biktarvy", dataValue: null , comment: null },
            { month: "2020-05", President: "Dovato", dataValue: 2 , comment: null },
            { month: "2020-05", President: "CAB/RPV", dataValue: null , comment: null },
            { month: "2020-05", President: "Descovy", dataValue: null , comment: null },

            { month: "2020-06", President: "Biktarvy", dataValue: null , comment: null },
            { month: "2020-06", President: "Dovato", dataValue: 14 , comment: null },
            { month: "2020-06", President: "CAB/RPV", dataValue: null , comment: null },
            { month: "2020-06", President: "Descovy", dataValue: null , comment: null },

            { month: "2020-07", President: "Biktarvy", dataValue: null , comment: null },
            { month: "2020-07", President: "Dovato", dataValue: 12 , comment: null },
            { month: "2020-07", President: "CAB/RPV", dataValue: null , comment: null },
            { month: "2020-07", President: "Descovy", dataValue: null , comment: null },

            { month: "2020-08", President: "Biktarvy", dataValue: null , comment: null },
            { month: "2020-08", President: "Dovato", dataValue: 20 , comment: null },
            { month: "2020-08", President: "CAB/RPV", dataValue: null , comment: null },
            { month: "2020-08", President: "Descovy", dataValue: null , comment: null },

            { month: "2020-09", President: "Biktarvy", dataValue: null , comment: null },
            { month: "2020-09", President: "Dovato", dataValue: 24 , comment: null },
            { month: "2020-09", President: "CAB/RPV", dataValue: null , comment: null },
            { month: "2020-09", President: "Descovy", dataValue: null , comment: null },

            { month: "2020-10", President: "Biktarvy", dataValue: null ,  comment: null },
            { month: "2020-10", President: "Dovato", dataValue: 25 ,  comment: null },
            { month: "2020-10", President: "CAB/RPV", dataValue: null ,  comment: null },
            { month: "2020-10", President: "Descovy", dataValue: null ,  comment: null },

            { month: "2020-11", President: "Biktarvy", dataValue: null ,  comment: null },
            { month: "2020-11", President: "Dovato", dataValue: 28 ,  comment: null },
            { month: "2020-11", President: "CAB/RPV", dataValue: null ,  comment: null },
            { month: "2020-11", President: "Descovy", dataValue: null ,  comment: null },

            { month: "2020-12", President: "Biktarvy", dataValue: null ,  comment: null },
            { month: "2020-12", President: "Dovato", dataValue: 25 ,  comment: null },
            { month: "2020-12", President: "CAB/RPV", dataValue: null ,  comment: null },
            { month: "2020-12", President: "Descovy", dataValue: null ,  comment: null },

            { month: "2021-01", President: "Biktarvy", dataValue: null , comment: null },
            { month: "2021-01", President: "Dovato", dataValue: 22 , comment: null },
            { month: "2021-01", President: "CAB/RPV", dataValue: null , comment: null },
            { month: "2021-01", President: "Descovy", dataValue: null , comment: null },

            { month: "2021-02", President: "Biktarvy", dataValue: null , comment: null },
            { month: "2021-02", President: "Dovato", dataValue: 25 , comment: null },
            { month: "2021-02", President: "CAB/RPV", dataValue: null , comment: null },
            { month: "2021-02", President: "Descovy", dataValue: null , comment: null },

            { month: "2021-03", President: "Biktarvy", dataValue: null , comment: null },
            { month: "2021-03", President: "Dovato", dataValue: 28 , comment: null },
            { month: "2021-03", President: "CAB/RPV", dataValue: null , comment: null },
            { month: "2021-03", President: "Descovy", dataValue: null , comment: null },

            { month: "2021-04", President: "Biktarvy", dataValue: null , comment: null },
            { month: "2021-04", President: "Dovato", dataValue: 30 , comment: null },
            { month: "2021-04", President: "CAB/RPV", dataValue: null , comment: null },
            { month: "2021-04", President: "Descovy", dataValue: null , comment: null },

            { month: "2021-05", President: "Biktarvy", dataValue: null , comment: null },
            { month: "2021-05", President: "Dovato", dataValue: 32 , comment: null },
            { month: "2021-05", President: "CAB/RPV", dataValue: null , comment: null },
            { month: "2021-05", President: "Descovy", dataValue: null , comment: null },

            { month: "2021-06", President: "Biktarvy", dataValue: null , comment: null },
            { month: "2021-06", President: "Dovato", dataValue: 34 , comment: null },
            { month: "2021-06", President: "CAB/RPV", dataValue: null , comment: null },
            { month: "2021-06", President: "Descovy", dataValue: null , comment: null },

            { month: "2021-07", President: "Biktarvy", dataValue: null , comment: null },
            { month: "2021-07", President: "Dovato", dataValue: 42 , comment: null },
            { month: "2021-07", President: "CAB/RPV", dataValue: null , comment: null },
            { month: "2021-07", President: "Descovy", dataValue: null , comment: null },

            { month: "2021-08", President: "Biktarvy", dataValue: null , comment: null },
            { month: "2021-08", President: "Dovato", dataValue: 49 , comment: null },
            { month: "2021-08", President: "CAB/RPV", dataValue: null , comment: null },
            { month: "2021-08", President: "Descovy", dataValue: null , comment: null },

            { month: "2021-09", President: "Biktarvy", dataValue: null , comment: null },
            { month: "2021-09", President: "Dovato", dataValue: 54 , comment: null },
            { month: "2021-09", President: "CAB/RPV", dataValue: null , comment: null },
            { month: "2021-09", President: "Descovy", dataValue: null , comment: null },

            { month: "2021-10", President: "Biktarvy", dataValue: null ,  comment: null },
            { month: "2021-10", President: "Dovato", dataValue: 55 ,  comment: null },
            { month: "2021-10", President: "CAB/RPV", dataValue: null ,  comment: null },
            { month: "2021-10", President: "Descovy", dataValue: null ,  comment: null },

            { month: "2021-11", President: "Biktarvy", dataValue: null ,  comment: null },
            { month: "2021-11", President: "Dovato", dataValue: 58 ,  comment: null },
            { month: "2021-11", President: "CAB/RPV", dataValue: null ,  comment: null },
            { month: "2021-11", President: "Descovy", dataValue: null ,  comment: null },

            { month: "2021-12", President: "Biktarvy", dataValue: null ,  comment: null },
            { month: "2021-12", President: "Dovato", dataValue: 58 ,  comment: null },
            { month: "2021-12", President: "CAB/RPV", dataValue: null ,  comment: null },
            { month: "2021-12", President: "Descovy", dataValue: null ,  comment: null },



            { month: "2022-01", President: "Biktarvy", dataValue: null,  comment: null },
            { month: "2022-01", President: "Dovato", dataValue: null,  comment: null },
            { month: "2022-01", President: "CAB/RPV", dataValue: 0,  comment: null },
            { month: "2022-01", President: "Descovy", dataValue: null,  comment: null },

            { month: "2022-02", President: "Biktarvy", dataValue: null,  comment: null },
            { month: "2022-02", President: "Dovato", dataValue: null,  comment: null },
            { month: "2022-02", President: "CAB/RPV", dataValue: 2,  comment: null },
            { month: "2022-02", President: "Descovy", dataValue: null,  comment: null },

            { month: "2022-03", President: "Biktarvy", dataValue: null,  comment: null },
            { month: "2022-03", President: "Dovato", dataValue: null,  comment: null },
            { month: "2022-03", President: "CAB/RPV", dataValue: 4,  comment: null },
            { month: "2022-03", President: "Descovy", dataValue: null,  comment: null },

            { month: "2022-04", President: "Biktarvy", dataValue: null,  comment: null },
            { month: "2022-04", President: "Dovato", dataValue: null,  comment: null },
            { month: "2022-04", President: "CAB/RPV", dataValue: 18,  comment: null },
            { month: "2022-04", President: "Descovy", dataValue: null,  comment: null },

            { month: "2022-05", President: "Biktarvy", dataValue: null,  comment: null },
            { month: "2022-05", President: "Dovato", dataValue: null,  comment: null },
            { month: "2022-05", President: "CAB/RPV", dataValue: 22,  comment: null },
            { month: "2022-05", President: "Descovy", dataValue: null,  comment: null },

            { month: "2022-06", President: "Biktarvy", dataValue: null,  comment: null },
            { month: "2022-06", President: "Dovato", dataValue: null,  comment: null },
            { month: "2022-06", President: "CAB/RPV", dataValue: 24,  comment: null },
            { month: "2022-06", President: "Descovy", dataValue: null,  comment: null },

            { month: "2022-07", President: "Biktarvy", dataValue: null,  comment: null },
            { month: "2022-07", President: "Dovato", dataValue: null,  comment: null },
            { month: "2022-07", President: "CAB/RPV", dataValue: 30,  comment: null },
            { month: "2022-07", President: "Descovy", dataValue: null,  comment: null },

            { month: "2022-08", President: "Biktarvy", dataValue: null,  comment: null },
            { month: "2022-08", President: "Dovato", dataValue: null,  comment: null },
            { month: "2022-08", President: "CAB/RPV", dataValue: 34,  comment: null },
            { month: "2022-08", President: "Descovy", dataValue: null,  comment: null },

            { month: "2022-09", President: "Biktarvy", dataValue: null,  comment: null },
            { month: "2022-09", President: "Dovato", dataValue: null,  comment: null },
            { month: "2022-09", President: "CAB/RPV", dataValue: 35,  comment: null },
            { month: "2022-09", President: "Descovy", dataValue: null,  comment: null },

            { month: "2022-10", President: "Biktarvy", dataValue: null,  comment: null },
            { month: "2022-10", President: "Dovato", dataValue: null,  comment: null },
            { month: "2022-10", President: "CAB/RPV", dataValue: 30,  comment: null },
            { month: "2022-10", President: "Descovy", dataValue: null,  comment: null },

            { month: "2022-11", President: "Biktarvy", dataValue: null,  comment: null },
            { month: "2022-11", President: "Dovato", dataValue: null,  comment: null },
            { month: "2022-11", President: "CAB/RPV", dataValue: 45,  comment: null },
            { month: "2022-11", President: "Descovy", dataValue: null,  comment: null },

            { month: "2022-12", President: "Biktarvy", dataValue: null,  comment: null },
            { month: "2022-12", President: "Dovato", dataValue: null,  comment: null },
            { month: "2022-12", President: "CAB/RPV", dataValue: 50,  comment: null },
            { month: "2022-12", President: "Descovy", dataValue: null,  comment: null },

            { month: "2023-01", President: "Biktarvy", dataValue: null,  comment: null },
            { month: "2023-01", President: "Dovato", dataValue: null,  comment: null },
            { month: "2023-01", President: "CAB/RPV", dataValue: 60,  comment: null },
            { month: "2023-01", President: "Descovy", dataValue: null,  comment: null },

            { month: "2023-02", President: "Biktarvy", dataValue: null,  comment: null },
            { month: "2023-02", President: "Dovato", dataValue: null,  comment: null },
            { month: "2023-02", President: "CAB/RPV", dataValue: 62,  comment: null },
            { month: "2023-02", President: "Descovy", dataValue: null,  comment: null },

            { month: "2023-03", President: "Biktarvy", dataValue: null,  comment: null },
            { month: "2023-03", President: "Dovato", dataValue: null,  comment: null },
            { month: "2023-03", President: "CAB/RPV", dataValue: 64,  comment: null },
            { month: "2023-03", President: "Descovy", dataValue: null,  comment: null },

            { month: "2023-04", President: "Biktarvy", dataValue: null,  comment: null },
            { month: "2023-04", President: "Dovato", dataValue: null,  comment: null },
            { month: "2023-04", President: "CAB/RPV", dataValue: 68,  comment: null },
            { month: "2023-04", President: "Descovy", dataValue: null,  comment: null },

            { month: "2023-05", President: "Biktarvy", dataValue: null,  comment: null },
            { month: "2023-05", President: "Dovato", dataValue: null,  comment: null },
            { month: "2023-05", President: "CAB/RPV", dataValue: 72,  comment: null },
            { month: "2023-05", President: "Descovy", dataValue: null,  comment: null },

            { month: "2023-06", President: "Biktarvy", dataValue: null,  comment: null },
            { month: "2023-06", President: "Dovato", dataValue: null,  comment: null },
            { month: "2023-06", President: "CAB/RPV", dataValue: 74,  comment: null },
            { month: "2023-06", President: "Descovy", dataValue: null,  comment: null },

            { month: "2023-07", President: "Biktarvy", dataValue: null,  comment: null },
            { month: "2023-07", President: "Dovato", dataValue: null,  comment: null },
            { month: "2023-07", President: "CAB/RPV", dataValue: 80,  comment: null },
            { month: "2023-07", President: "Descovy", dataValue: null,  comment: null },

            { month: "2023-08", President: "Biktarvy", dataValue: null,  comment: null },
            { month: "2023-08", President: "Dovato", dataValue: null,  comment: null },
            { month: "2023-08", President: "CAB/RPV", dataValue: 84,  comment: null },
            { month: "2023-08", President: "Descovy", dataValue: null,  comment: null },

            { month: "2023-09", President: "Biktarvy", dataValue: null,  comment: null },
            { month: "2023-09", President: "Dovato", dataValue: null,  comment: null },
            { month: "2023-09", President: "CAB/RPV", dataValue: 85,  comment: null },
            { month: "2023-09", President: "Descovy", dataValue: null,  comment: null },

            { month: "2023-10", President: "Biktarvy", dataValue: null,  comment: null },
            { month: "2023-10", President: "Dovato", dataValue: null,  comment: null },
            { month: "2023-10", President: "CAB/RPV", dataValue: 90,  comment: null },
            { month: "2023-10", President: "Descovy", dataValue: null,  comment: null },

            { month: "2023-11", President: "Biktarvy", dataValue: null,  comment: null },
            { month: "2023-11", President: "Dovato", dataValue: null,  comment: null },
            { month: "2023-11", President: "CAB/RPV", dataValue: 95,  comment: null },
            { month: "2023-11", President: "Descovy", dataValue: null,  comment: null },

            { month: "2023-12", President: "Biktarvy", dataValue: null,  comment: null },
            { month: "2023-12", President: "Dovato", dataValue: null,  comment: null },
            { month: "2023-12", President: "CAB/RPV", dataValue: 100,  comment: null },
            { month: "2023-12", President: "Descovy", dataValue: null,  comment: null },



            { month: "2024-01", President: "Biktarvy", dataValue: null,  comment: null },
            { month: "2024-01", President: "Dovato", dataValue: null,  comment: null },
            { month: "2024-01", President: "CAB/RPV", dataValue: null,  comment: null },
            { month: "2024-01", President: "Descovy", dataValue: 0,  comment: null },

            { month: "2024-02", President: "Biktarvy", dataValue: null,  comment: null },
            { month: "2024-02", President: "Dovato", dataValue: null,  comment: null },
            { month: "2024-02", President: "CAB/RPV", dataValue: null,  comment: null },
            { month: "2024-02", President: "Descovy", dataValue: 12,  comment: null },

            { month: "2024-03", President: "Biktarvy", dataValue: null,  comment: null },
            { month: "2024-03", President: "Dovato", dataValue: null,  comment: null },
            { month: "2024-03", President: "CAB/RPV", dataValue: null,  comment: null },
            { month: "2024-03", President: "Descovy", dataValue: 13,  comment: null },

            { month: "2024-04", President: "Biktarvy", dataValue: null,  comment: null },
            { month: "2024-04", President: "Dovato", dataValue: null,  comment: null },
            { month: "2024-04", President: "CAB/RPV", dataValue: null,  comment: null },
            { month: "2024-04", President: "Descovy", dataValue: 15,  comment: null },

            { month: "2024-05", President: "Biktarvy", dataValue: null,  comment: null },
            { month: "2024-05", President: "Dovato", dataValue: null,  comment: null },
            { month: "2024-05", President: "CAB/RPV", dataValue: null,  comment: null },
            { month: "2024-05", President: "Descovy", dataValue: 10,  comment: null },

            { month: "2024-06", President: "Biktarvy", dataValue: null,  comment: null },
            { month: "2024-06", President: "Dovato", dataValue: null,  comment: null },
            { month: "2024-06", President: "CAB/RPV", dataValue: null,  comment: null },
            { month: "2024-06", President: "Descovy", dataValue: 9,  comment: null },

            { month: "2024-07", President: "Biktarvy", dataValue: null,  comment: null },
            { month: "2024-07", President: "Dovato", dataValue: null,  comment: null },
            { month: "2024-07", President: "CAB/RPV", dataValue: null,  comment: null },
            { month: "2024-07", President: "Descovy", dataValue: 19,  comment: null },

            { month: "2024-08", President: "Biktarvy", dataValue: null,  comment: null },
            { month: "2024-08", President: "Dovato", dataValue: null,  comment: null },
            { month: "2024-08", President: "CAB/RPV", dataValue: null,  comment: null },
            { month: "2024-08", President: "Descovy", dataValue: 20,  comment: null },

            { month: "2024-09", President: "Biktarvy", dataValue: null,  comment: null },
            { month: "2024-09", President: "Dovato", dataValue: null,  comment: null },
            { month: "2024-09", President: "CAB/RPV", dataValue: null,  comment: null },
            { month: "2024-09", President: "Descovy", dataValue: 35,  comment: null },

            { month: "2024-10", President: "Biktarvy", dataValue: null,  comment: null },
            { month: "2024-10", President: "Dovato", dataValue: null,  comment: null },
            { month: "2024-10", President: "CAB/RPV", dataValue: null,  comment: null },
            { month: "2024-10", President: "Descovy", dataValue: 45,  comment: null },

            { month: "2024-11", President: "Biktarvy", dataValue: null,  comment: null },
            { month: "2024-11", President: "Dovato", dataValue: null,  comment: null },
            { month: "2024-11", President: "CAB/RPV", dataValue: null,  comment: null },
            { month: "2024-11", President: "Descovy", dataValue: 40,  comment: null },

            { month: "2024-12", President: "Biktarvy", dataValue: null,  comment: null },
            { month: "2024-12", President: "Dovato", dataValue: null,  comment: null },
            { month: "2024-12", President: "CAB/RPV", dataValue: null,  comment: null },
            { month: "2024-12", President: "Descovy", dataValue: 30,  comment: null },


            { month: "2025-01", President: "Biktarvy", dataValue: null,  comment: null },
            { month: "2025-01", President: "Dovato", dataValue: null,  comment: null },
            { month: "2025-01", President: "CAB/RPV", dataValue: null,  comment: null },
            { month: "2025-01", President: "Descovy", dataValue: 39,  comment: null },

            { month: "2025-02", President: "Biktarvy", dataValue: null,  comment: null },
            { month: "2025-02", President: "Dovato", dataValue: null,  comment: null },
            { month: "2025-02", President: "CAB/RPV", dataValue: null,  comment: null },
            { month: "2025-02", President: "Descovy", dataValue: 40,  comment: null },

            { month: "2025-03", President: "Biktarvy", dataValue: null,  comment: null },
            { month: "2025-03", President: "Dovato", dataValue: null,  comment: null },
            { month: "2025-03", President: "CAB/RPV", dataValue: null,  comment: null },
            { month: "2025-03", President: "Descovy", dataValue: 45,  comment: null },

            { month: "2025-04", President: "Biktarvy", dataValue: null,  comment: null },
            { month: "2025-04", President: "Dovato", dataValue: null,  comment: null },
            { month: "2025-04", President: "CAB/RPV", dataValue: null,  comment: null },
            { month: "2025-04", President: "Descovy", dataValue: 50,  comment: null },

            { month: "2025-05", President: "Biktarvy", dataValue: null,  comment: null },
            { month: "2025-05", President: "Dovato", dataValue: null,  comment: null },
            { month: "2025-05", President: "CAB/RPV", dataValue: null,  comment: null },
            { month: "2025-05", President: "Descovy", dataValue: 55,  comment: null },

            { month: "2025-06", President: "Biktarvy", dataValue: null,  comment: null },
            { month: "2025-06", President: "Dovato", dataValue: null,  comment: null },
            { month: "2025-06", President: "CAB/RPV", dataValue: null,  comment: null },
            { month: "2025-06", President: "Descovy", dataValue: 60,  comment: null },

            { month: "2025-07", President: "Biktarvy", dataValue: null,  comment: null },
            { month: "2025-07", President: "Dovato", dataValue: null,  comment: null },
            { month: "2025-07", President: "CAB/RPV", dataValue: null,  comment: null },
            { month: "2025-07", President: "Descovy", dataValue: 69,  comment: null },

            { month: "2025-08", President: "Biktarvy", dataValue: null,  comment: null },
            { month: "2025-08", President: "Dovato", dataValue: null,  comment: null },
            { month: "2025-08", President: "CAB/RPV", dataValue: null,  comment: null },
            { month: "2025-08", President: "Descovy", dataValue: 70,  comment: null },

            { month: "2025-09", President: "Biktarvy", dataValue: null,  comment: null },
            { month: "2025-09", President: "Dovato", dataValue: null,  comment: null },
            { month: "2025-09", President: "CAB/RPV", dataValue: null,  comment: null },
            { month: "2025-09", President: "Descovy", dataValue: 75,  comment: null },

            { month: "2025-10", President: "Biktarvy", dataValue: null,  comment: null },
            { month: "2025-10", President: "Dovato", dataValue: null,  comment: null },
            { month: "2025-10", President: "CAB/RPV", dataValue: null,  comment: null },
            { month: "2025-10", President: "Descovy", dataValue: 75,  comment: null },

            { month: "2025-11", President: "Biktarvy", dataValue: null,  comment: null },
            { month: "2025-11", President: "Dovato", dataValue: null,  comment: null },
            { month: "2025-11", President: "CAB/RPV", dataValue: null,  comment: null },
            { month: "2025-11", President: "Descovy", dataValue: 70,  comment: null },

            { month: "2025-12", President: "Biktarvy", dataValue: null,  comment: null },
            { month: "2025-12", President: "Dovato", dataValue: null,  comment: null },
            { month: "2025-12", President: "CAB/RPV", dataValue: null,  comment: null },
            { month: "2025-12", President: "Descovy", dataValue: 80,  comment: null },

 
        ];

        const months = [...new Set(data.map(item => item.month))];

    const formattedMonths = months.map(month => {
        const [year, monthNum] = month.split('-');
        const date = new Date(year, monthNum - 1);
        return date.toLocaleString('default', { month: 'short', year: '2-digit' });
    });

    const Presidents = [...new Set(data.map(item => item.President))];

    const PresidentColors = {
        "Biktarvy": "#FF6384",
        "Dovato": "#36A2EB",
        "CAB/RPV": "#FFCE56",
        "Descovy": "#4BC0C0"
    };

    const datasetsActual = Presidents.map(President => ({
        label: `${President}`,
        data: Array(months.length).fill(null),
        borderColor: PresidentColors[President],
        borderWidth: 3,
        fill: false,
        tension: 0.3,
        spanGaps: true
    }));

    const ctx = document.getElementById('myChart').getContext('2d');
    let isPaused = false; // Track whether the chart animation is paused

    // Plugin to change chart background dynamically
    const backgroundPlugin = {
        id: 'backgroundColorPlugin',
        beforeDraw: (chart) => {
            const ctx = chart.ctx;
            const { chartArea, scales } = chart;

            // Clear the existing background
            ctx.save();
            ctx.fillStyle = 'white'; // Base background color
            ctx.fillRect(chartArea.left, chartArea.top, chartArea.width, chartArea.height);

            // Draw alternating background colors
            const monthsPerYear = 12; // Assuming 12 months in the x-axis
            const totalMonths = months.length;

            let startX = chartArea.left;

            for (let i = 0; i < totalMonths; i += monthsPerYear) {
                const [year, month] = months[i]?.split('-') || [];
                if (!year) continue;

                // Determine background color for the year
                const color = parseInt(year) % 2 === 0 ? '#edf0f2' : '#dee1e3'; // Dark gray for even years, light gray for odd years

                const endX = scales.x.getPixelForValue(i + monthsPerYear) || chartArea.right;

                ctx.fillStyle = color;
                ctx.fillRect(startX, chartArea.top, endX - startX, chartArea.height);

                startX = endX;
            }

            ctx.restore();
        }
    };

    const chart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: [],
            datasets: [...datasetsActual]
        },
        options: {
            responsive: true,
            animation: {
                duration: 100,
                easing: 'linear',
                onProgress: function (animation) {
                    // Optional callback during animation
                },
                onComplete: function () {
                    // Optional callback after animation completes
                    console.log('Animation complete!');
                }
            },
            scales: {
                x: {
                    title: {
                        display: false,
                        text: 'Month',
                        font: { size: 18 }
                    },
                    ticks: {
                        font: {
                            size: 14
                        },
                        autoSkip: false,
                        callback: (value, index) => {
                            const month = months[index];
                            if (!month) return ''; // Guard against out-of-bounds
                            const [year, monthNum] = month.split('-');
                            if (monthNum === '12') {
                                return year;
                            }
                            return '';
                        },
                        maxRotation: 90,
                        minRotation: 90
                    },
                    grid: {
                        display: false
                    }
                },
                y: {
                    title: {
                        display: true,
                        text: 'Change (in%)',
                        font: {
                            size: 18
                        }
                    },
                    ticks: {
                        font: {
                            size: 14
                        },
                        stepSize: (Math.max(...data.map(item => item.dataValue)) - Math.min(...data.map(item => item.dataValue))) / 10,  // Fix 10 ticks
                        maxTicksLimit: 10, 
                    },
                    beginAtZero: true,
                        // border: {
                        //     dash: [2,4],
                        // },
                    grid: {
                        drawBorder: true,
                        color: (ctx) => {
                            if (ctx.tick.value === 0) {
                                return 'black'; // Make the y=0 line dark black
                            }
                            return '#E5E5E5';
                        },
                        lineWidth: (ctx) => {
                            if (ctx.tick.value === 0) {
                                return 1.5; // Make the y=0 line thicker
                            }
                            return 1;
                        },
                        borderDash: (ctx) => {
                            if (ctx.tick.value === 0) {
                                return []; // Solid line for y=0
                            }
                            return [2, 5]; // Dotted line for other grid lines
                        }
                    }
                }
            },
            plugins: {
                legend: {
                    position: 'top',
                    labels: {
                        font: {
                            size: 18
                        },
                        boxWidth: 30
                    }
                },
                annotation: {
                    annotations: {}
                }
            }
        },
        plugins: [backgroundPlugin] // Register the plugin
    });

    let currentMonthIndex = 0;

    function updateChart() {
        if (currentMonthIndex >= months.length || isPaused) return;

        const currentMonth = months[currentMonthIndex];
        const [year, monthNum] = currentMonth.split('-');
        
        // Only push December's year to the x-axis labels
        if (monthNum === '12') {
            chart.data.labels.push(year);
        } else {
            chart.data.labels.push(''); // Maintain alignment but hide label
        }

        chart.data.datasets.forEach(dataset => {
            const President = dataset.label.split(" - ")[0];
            const entry = data.find(item => item.President === President && item.month === currentMonth);
            dataset.data[currentMonthIndex] = entry ? entry.dataValue : null;
        });

        const currentMonthComments = data.filter(
            item => item.month === currentMonth && item.comment
        );
        const maxYTick = chart.scales['y'].max;

        currentMonthComments.forEach(item => {
            chart.options.plugins.annotation.annotations[item.President] = {
                type: 'label',
                xValue: year,
                xAdjust: -50,
                yValue: maxYTick*10 -20,
                backgroundColor: PresidentColors[item.President],
                opacity: 0.2,
                content: item.comment,
                position: 'top',
                font: { size: 12, weight: 'bold' },
                color: 'white'
            };
        });

        chart.update();
        currentMonthIndex++;
        if (!isPaused) {
            setTimeout(updateChart, 300);
        }
    }

    updateChart(); // Start the chart update loop
</script>

</body>
</html>
